<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>运营分析 - 视联网适配中心</title>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://unpkg.com/element-plus@2.4.4/dist/index.full.js"></script>
    <script src="https://unpkg.com/@element-plus/icons-vue@2.1.0/dist/index.iife.min.js"></script>
    <script src="https://unpkg.com/echarts@5.4.3/dist/echarts.min.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/element-plus@2.4.4/dist/index.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .chart-container {
            width: 100%;
            height: 300px;
        }
        .metric-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        .metric-card-green {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
        }
        .metric-card-orange {
            background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
            color: white;
        }
        .metric-card-purple {
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
            color: #333;
        }
        .sidebar {
            background: linear-gradient(180deg, #1e3c72 0%, #2a5298 100%);
        }
        .nav-item {
            transition: all 0.3s ease;
        }
        .nav-item:hover {
            background-color: rgba(255, 255, 255, 0.1);
            transform: translateX(5px);
        }
        .nav-item.active {
            background-color: rgba(255, 255, 255, 0.2);
            border-left: 4px solid #409eff;
        }
        .content-header {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
        }
    </style>
</head>
<body>
    <div id="app">
        <div class="flex h-screen bg-gray-100">
            <!-- 左侧导航栏 -->
            <div class="w-64 sidebar text-white flex-shrink-0">
                <div class="p-6">
                    <h1 class="text-xl font-bold mb-8">视联网适配中心</h1>
                    <nav>
                        <div class="mb-4">
                            <div class="text-sm text-gray-300 mb-2">运营门户</div>
                            <div class="nav-item px-4 py-2 rounded cursor-pointer" 
                                 :class="{active: activeMenu === 'dashboard'}"
                                 @click="activeMenu = 'dashboard'">
                                <i class="el-icon-odometer mr-2"></i>运营门户
                            </div>
                            <div class="nav-item px-4 py-2 rounded cursor-pointer" 
                                 :class="{active: activeMenu === 'customer'}"
                                 @click="activeMenu = 'customer'">
                                <i class="el-icon-user mr-2"></i>客户管理
                            </div>
                            <div class="nav-item px-4 py-2 rounded cursor-pointer" 
                                 :class="{active: activeMenu === 'analysis'}"
                                 @click="activeMenu = 'analysis'">
                                <i class="el-icon-data-analysis mr-2"></i>运营分析
                            </div>
                            <!-- 运营分析二级菜单 -->
                            <div v-if="activeMenu === 'analysis'" class="ml-4 mt-2">
                                <div class="nav-item px-4 py-2 rounded cursor-pointer text-sm" 
                                     :class="{active: activeTab === 'customer'}"
                                     @click="activeTab = 'customer'">
                                    <i class="el-icon-user-solid mr-2"></i>客户分析
                                </div>
                                <div class="nav-item px-4 py-2 rounded cursor-pointer text-sm" 
                                     :class="{active: activeTab === 'device'}"
                                     @click="activeTab = 'device'">
                                    <i class="el-icon-monitor mr-2"></i>设备分析
                                </div>
                                <div class="nav-item px-4 py-2 rounded cursor-pointer text-sm" 
                                     :class="{active: activeTab === 'business'}"
                                     @click="activeTab = 'business'">
                                    <i class="el-icon-data-line mr-2"></i>业务分析
                                </div>
                            </div>

                            <div class="nav-item px-4 py-2 rounded cursor-pointer" 
                                 :class="{active: activeMenu === 'system'}"
                                 @click="activeMenu = 'system'">
                                <i class="el-icon-setting mr-2"></i>系统配置
                            </div>
                            <!-- 系统配置二级菜单 -->
                            <div v-if="activeMenu === 'system'" class="ml-4 mt-2">
                                <div class="nav-item px-4 py-2 rounded cursor-pointer text-sm">
                                    <i class="el-icon-user mr-2"></i>用户管理
                                </div>
                                <div class="nav-item px-4 py-2 rounded cursor-pointer text-sm">
                                    <i class="el-icon-s-custom mr-2"></i>角色管理
                                </div>
                            </div>
                            <div class="nav-item px-4 py-2 rounded cursor-pointer" 
                                 :class="{active: activeMenu === 'logs'}"
                                 @click="activeMenu = 'logs'">
                                <i class="el-icon-document mr-2"></i>日志管理
                            </div>
                            <!-- 日志管理二级菜单 -->
                            <div v-if="activeMenu === 'logs'" class="ml-4 mt-2">
                                <div class="nav-item px-4 py-2 rounded cursor-pointer text-sm">
                                    <i class="el-icon-key mr-2"></i>登录日志
                                </div>
                                <div class="nav-item px-4 py-2 rounded cursor-pointer text-sm">
                                    <i class="el-icon-edit mr-2"></i>操作日志
                                </div>
                            </div>
                        </div>
                        <div class="mb-4">
                            <div class="text-sm text-gray-300 mb-2">接口适配</div>
                            <div class="nav-item px-4 py-2 rounded cursor-pointer" 
                                 :class="{active: activeMenu === 'interface'}"
                                 @click="activeMenu = 'interface'">
                                <i class="el-icon-connection mr-2"></i>接入平台管理
                            </div>
                            <div class="nav-item px-4 py-2 rounded cursor-pointer">
                                <i class="el-icon-monitor mr-2"></i>设备管理
                            </div>
                            <div class="nav-item px-4 py-2 rounded cursor-pointer">
                                <i class="el-icon-video-camera mr-2"></i>通道管理
                            </div>
                        </div>
                        <div class="mb-4">
                            <div class="text-sm text-gray-300 mb-2">业务数据采集</div>
                            <div class="nav-item px-4 py-2 rounded cursor-pointer" 
                                 :class="{active: activeMenu === 'collection'}"
                                 @click="activeMenu = 'collection'">
                                <i class="el-icon-download mr-2"></i>业务采集设置
                            </div>
                            <div class="nav-item px-4 py-2 rounded cursor-pointer">
                                <i class="el-icon-user-solid mr-2"></i>客户同步设置
                            </div>
                            <div class="nav-item px-4 py-2 rounded cursor-pointer">
                                <i class="el-icon-timer mr-2"></i>任务状态
                            </div>
                            <div class="nav-item px-4 py-2 rounded cursor-pointer">
                                <i class="el-icon-setting mr-2"></i>协议配置
                            </div>
                        </div>
                    </nav>
                </div>
            </div>

            <!-- 主内容区域 -->
            <div class="flex-1 flex flex-col overflow-hidden">
                <!-- 顶部导航栏 -->
                <div class="content-header p-4 border-b bg-white">
                    <div class="flex justify-between items-center">
                        <div>
                            <h2 class="text-2xl font-bold text-gray-800">{{ currentPageTitle }}</h2>
                        </div>
                        <div class="flex items-center space-x-4">
                            <!-- 用户信息 -->
                            <el-dropdown trigger="click">
                                <div class="flex items-center cursor-pointer px-3 py-2 rounded-lg hover:bg-gray-100">
                                    <el-avatar size="small" class="mr-2">
                                        <i class="el-icon-user"></i>
                                    </el-avatar>
                                    <span class="text-gray-700 font-medium">{{ currentUser.name }}</span>
                                    <i class="el-icon-arrow-down ml-1 text-gray-500"></i>
                                </div>
                                <template #dropdown>
                                    <el-dropdown-menu>
                                        <el-dropdown-item @click="showProfile">
                                            <i class="el-icon-user mr-2"></i>个人中心
                                        </el-dropdown-item>
                                        <el-dropdown-item @click="changePassword">
                                            <i class="el-icon-key mr-2"></i>修改密码
                                        </el-dropdown-item>
                                        <el-dropdown-item divided @click="logout">
                                            <i class="el-icon-switch-button mr-2"></i>退出登录
                                        </el-dropdown-item>
                                    </el-dropdown-menu>
                                </template>
                            </el-dropdown>
                        </div>
                    </div>
                </div>



                <!-- 内容区域 -->
                <div class="flex-1 overflow-auto p-6">
                    <!-- 客户分析 -->
                    <div v-if="activeTab === 'customer'">
                        <!-- 筛选条件 -->
                        <div class="bg-white p-4 rounded-lg shadow mb-6">
                            <div class="flex items-center gap-4">
                                <el-date-picker
                                    v-model="customerFilters.dateRange"
                                    type="daterange"
                                    range-separator="至"
                                    start-placeholder="开始日期"
                                    end-placeholder="结束日期"
                                    size="default">
                                </el-date-picker>
                                <el-button type="primary" @click="queryCustomerData" icon="el-icon-search">
                                    <i class="fa-solid fa-magnifying-glass mr-1"></i>查询
                                </el-button>
                            </div>
                        </div>

                        <!-- 关键指标卡片 -->
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
                            <div class="metric-card p-6 rounded-lg shadow">
                                <div class="flex items-center justify-between">
                                    <div>
                                        <p class="text-sm opacity-90">本月新增客户数</p>
                                        <p class="text-3xl font-bold mt-2">{{ customerMetrics.monthlyNewCustomers }}</p>
                                        <p class="text-sm mt-1 opacity-75">较上月 +{{ customerMetrics.monthlyGrowth }}%</p>
                                    </div>
                                    <i class="el-icon-user-solid text-4xl opacity-50"></i>
                                </div>
                            </div>
                            <div class="metric-card-green p-6 rounded-lg shadow">
                                <div class="flex items-center justify-between">
                                    <div>
                                        <p class="text-sm opacity-90">本年新增客户数</p>
                                        <p class="text-3xl font-bold mt-2">{{ customerMetrics.yearlyNewCustomers }}</p>
                                        <p class="text-sm mt-1 opacity-75">较去年同期 +{{ customerMetrics.yearlyGrowth }}%</p>
                                    </div>
                                    <i class="el-icon-plus text-4xl opacity-50"></i>
                                </div>
                            </div>
                            <div class="metric-card-orange p-6 rounded-lg shadow">
                                <div class="flex items-center justify-between">
                                    <div>
                                        <p class="text-sm opacity-90">累计客户数量</p>
                                        <p class="text-3xl font-bold mt-2">{{ customerMetrics.totalCustomers }}</p>
                                        <p class="text-sm mt-1 opacity-75">总计</p>
                                    </div>
                                    <i class="el-icon-s-data text-4xl opacity-50"></i>
                                </div>
                            </div>
                        </div>

                        <!-- 图表区域 -->
                        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                            <div class="bg-white p-6 rounded-lg shadow">
                                <h3 class="text-lg font-semibold mb-4">客户行业分布</h3>
                                <div id="customerIndustryChart" class="chart-container"></div>
                            </div>
                            <div class="bg-white p-6 rounded-lg shadow">
                                <h3 class="text-lg font-semibold mb-4">客户增长趋势</h3>
                                <div id="customerGrowthChart" class="chart-container"></div>
                            </div>
                            <div class="bg-white p-6 rounded-lg shadow">
                                <h3 class="text-lg font-semibold mb-4">客户级别分布</h3>
                                <div id="customerLevelChart" class="chart-container"></div>
                            </div>
                            <div class="bg-white p-6 rounded-lg shadow">
                                <h3 class="text-lg font-semibold mb-4">地域分布统计分析</h3>
                                <div id="customerRegionChart" class="chart-container"></div>
                            </div>
                        </div>
                    </div>

                    <!-- 设备分析 -->
                    <div v-if="activeTab === 'device'">
                        <!-- 筛选条件 -->
                        <div class="bg-white p-4 rounded-lg shadow mb-6">
                            <div class="flex items-center gap-4">
                                <el-date-picker
                                    v-model="deviceFilters.dateRange"
                                    type="daterange"
                                    range-separator="至"
                                    start-placeholder="开始日期"
                                    end-placeholder="结束日期"
                                    size="default">
                                </el-date-picker>
                                <el-button type="primary" @click="queryDeviceData" icon="el-icon-search">
                                    <i class="fa-solid fa-magnifying-glass mr-1"></i>查询
                                </el-button>
                            </div>
                        </div>

                        <!-- 关键指标卡片 -->
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
                            <div class="metric-card p-6 rounded-lg shadow">
                                <div class="flex items-center justify-between">
                                    <div>
                                        <p class="text-sm opacity-90">设备总数</p>
                                        <p class="text-3xl font-bold mt-2">{{ deviceMetrics.totalDevices }}</p>
                                        <p class="text-sm mt-1 opacity-75">全部设备数量</p>
                                    </div>
                                    <i class="fa-solid fa-server text-4xl opacity-50"></i>
                                </div>
                            </div>
                            <div class="metric-card-green p-6 rounded-lg shadow">
                                <div class="flex items-center justify-between">
                                    <div>
                                        <p class="text-sm opacity-90">在线设备数</p>
                                        <p class="text-3xl font-bold mt-2">{{ deviceMetrics.onlineDevices }}</p>
                                        <p class="text-sm mt-1 opacity-75">占比 {{ deviceMetrics.onlineRate }}%</p>
                                    </div>
                                    <i class="fa-solid fa-circle-check text-4xl opacity-50"></i>
                                </div>
                            </div>
                            <div class="metric-card-orange p-6 rounded-lg shadow">
                                <div class="flex items-center justify-between">
                                    <div>
                                        <p class="text-sm opacity-90">离线设备数</p>
                                        <p class="text-3xl font-bold mt-2">{{ deviceMetrics.offlineDevices }}</p>
                                        <p class="text-sm mt-1 opacity-75">占比 {{ deviceMetrics.offlineRate }}%</p>
                                    </div>
                                    <i class="fa-solid fa-circle-xmark text-4xl opacity-50"></i>
                                </div>
                            </div>
                        </div>

                        <!-- 图表区域 -->
                        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                            <div class="bg-white p-6 rounded-lg shadow">
                                <h3 class="text-lg font-semibold mb-4">物联网平台分布</h3>
                                <div id="devicePlatformChart" class="chart-container"></div>
                            </div>
                            <div class="bg-white p-6 rounded-lg shadow">
                                <h3 class="text-lg font-semibold mb-4">设备厂商分布</h3>
                                <div id="deviceManufacturerChart" class="chart-container"></div>
                            </div>
                            <div class="bg-white p-6 rounded-lg shadow">
                                <h3 class="text-lg font-semibold mb-4">设备趋势图</h3>
                                <div id="deviceTrendChart" class="chart-container"></div>
                            </div>
                            <div class="bg-white p-6 rounded-lg shadow">
                                <h3 class="text-lg font-semibold mb-4">设备地域分布</h3>
                                <div id="deviceRegionChart" class="chart-container"></div>
                            </div>
                        </div>
                    </div>

                    <!-- 业务分析 -->
                    <div v-if="activeTab === 'business'">
                        <!-- 筛选条件 -->
                        <div class="bg-white p-4 rounded-lg shadow mb-6">
                            <div class="flex items-center gap-4">
                                <el-date-picker
                                    v-model="businessFilters.dateRange"
                                    type="daterange"
                                    range-separator="至"
                                    start-placeholder="开始日期"
                                    end-placeholder="结束日期"
                                    size="default">
                                </el-date-picker>
                                <el-button type="primary" @click="queryBusinessData" icon="el-icon-search">
                                    <i class="fa-solid fa-magnifying-glass mr-1"></i>查询
                                </el-button>
                            </div>
                        </div>

                        <!-- 关键指标卡片 -->
                        <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-6">
                            <div class="metric-card p-6 rounded-lg shadow">
                                <div class="flex items-center justify-between">
                                    <div>
                                        <p class="text-sm opacity-90">订购业务总量</p>
                                        <p class="text-3xl font-bold mt-2">{{ businessMetrics.subscribeTotal }}</p>
                                        <p class="text-sm mt-1 opacity-75">当月{{ businessMetrics.monthlySubscribe }} | 当年{{ businessMetrics.yearlySubscribe }}</p>
                                        <p class="text-sm mt-1 opacity-75">同比增长 +{{ businessMetrics.subscribeGrowth }}%</p>
                                    </div>
                                    <i class="fa-solid fa-plus-circle text-4xl opacity-50"></i>
                                </div>
                            </div>
                            <div class="metric-card-green p-6 rounded-lg shadow">
                                <div class="flex items-center justify-between">
                                    <div>
                                        <p class="text-sm opacity-90">退订业务总量</p>
                                        <p class="text-3xl font-bold mt-2">{{ businessMetrics.unsubscribeTotal }}</p>
                                        <p class="text-sm mt-1 opacity-75">当月{{ businessMetrics.monthlyUnsubscribe }} | 当年{{ businessMetrics.yearlyUnsubscribe }}</p>
                                        <p class="text-sm mt-1 opacity-75">流失率 {{ businessMetrics.churnRate }}%</p>
                                    </div>
                                    <i class="fa-solid fa-minus-circle text-4xl opacity-50"></i>
                                </div>
                            </div>
                            <div class="metric-card-orange p-6 rounded-lg shadow">
                                <div class="flex items-center justify-between">
                                    <div>
                                        <p class="text-sm opacity-90">装维业务总量</p>
                                        <p class="text-3xl font-bold mt-2">{{ businessMetrics.maintenanceTotal }}</p>
                                        <p class="text-sm mt-1 opacity-75">当月{{ businessMetrics.monthlyMaintenance }} | 当年{{ businessMetrics.yearlyMaintenance }}</p>
                                        <p class="text-sm mt-1 opacity-75">完成率 {{ businessMetrics.completionRate }}%</p>
                                    </div>
                                    <i class="fa-solid fa-tools text-4xl opacity-50"></i>
                                </div>
                            </div>
                            <div class="metric-card-purple p-6 rounded-lg shadow">
                                <div class="flex items-center justify-between">
                                    <div>
                                        <p class="text-sm opacity-90">业务净增长</p>
                                        <p class="text-3xl font-bold mt-2">{{ businessMetrics.netGrowth }}</p>
                                        <p class="text-sm mt-1 opacity-75">当月净增{{ businessMetrics.monthlyNetGrowth }}</p>
                                        <p class="text-sm mt-1 opacity-75">当年净增{{ businessMetrics.yearlyNetGrowth }}</p>
                                    </div>
                                    <i class="fa-solid fa-chart-line text-4xl opacity-50"></i>
                                </div>
                            </div>
                        </div>

                        <!-- 图表区域 -->
                        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                            <div class="bg-white p-6 rounded-lg shadow">
                                <h3 class="text-lg font-semibold mb-4">业务趋势图</h3>
                                <div id="businessTrendChart" class="chart-container"></div>
                            </div>
                            <div class="bg-white p-6 rounded-lg shadow">
                                <h3 class="text-lg font-semibold mb-4">业务类型分布</h3>
                                <div id="businessTypeChart" class="chart-container"></div>
                            </div>
                            <div class="bg-white p-6 rounded-lg shadow">
                                <h3 class="text-lg font-semibold mb-4">地域分布分析</h3>
                                <div id="regionDistributionChart" class="chart-container"></div>
                            </div>
                            <div class="bg-white p-6 rounded-lg shadow">
                                <h3 class="text-lg font-semibold mb-4">地域业务对比</h3>
                                <div id="regionBusinessChart" class="chart-container"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const { createApp } = Vue;
        const { ElMessage, ElMessageBox } = ElementPlus;

        createApp({
            data() {
                return {
                    activeMenu: 'analysis',
                    activeTab: 'customer',
                    
                    // 当前用户信息
                    currentUser: {
                        name: '管理员',
                        role: '系统管理员',
                        avatar: ''
                    },
                    
                    // 客户分析筛选条件
                    customerFilters: {
                        dateRange: []
                    },
                    
                    // 设备分析筛选条件
                    deviceFilters: {
                        dateRange: []
                    },
                    
                    // 业务分析筛选条件
                    businessFilters: {
                        dateRange: []
                    },
                    
                    // 客户分析指标
                    customerMetrics: {
                        monthlyNewCustomers: 156,
                        monthlyGrowth: 12.5,
                        yearlyNewCustomers: 1248,
                        yearlyGrowth: 18.7,
                        totalCustomers: 8956
                    },
                    
                    // 设备分析指标
                    deviceMetrics: {
                        totalDevices: 15680,
                        onlineDevices: 14776,
                        onlineRate: 94.2,
                        offlineDevices: 904,
                        offlineRate: 5.8
                    },
                    
                    // 业务分析指标
                    businessMetrics: {
                        // 订购业务总量
                        subscribeTotal: 2890,
                        monthlySubscribe: 245,
                        yearlySubscribe: 2890,
                        subscribeGrowth: 15.8,
                        
                        // 退订业务总量
                        unsubscribeTotal: 156,
                        monthlyUnsubscribe: 23,
                        yearlyUnsubscribe: 156,
                        churnRate: 5.4,
                        
                        // 装维业务总量
                        maintenanceTotal: 410,
                        monthlyMaintenance: 67,
                        yearlyMaintenance: 410,
                        completionRate: 92.5,
                        
                        // 业务净增长
                        netGrowth: 2734,
                        monthlyNetGrowth: 222,
                        yearlyNetGrowth: 2734
                    }
                };
            },
            computed: {
                currentPageTitle() {
                    const titles = {
                        customer: '客户分析',
                        device: '设备分析',
                        business: '业务分析'
                    };
                    return titles[this.activeTab] || '运营分析';
                },

            },
            mounted() {
                this.$nextTick(() => {
                    this.initCharts();
                });
            },
            watch: {
                activeTab() {
                    this.$nextTick(() => {
                        this.initCharts();
                    });
                }
            },
            methods: {
                initCharts() {
                    if (this.activeTab === 'customer') {
                        this.initCustomerCharts();
                    } else if (this.activeTab === 'device') {
                        this.initDeviceCharts();
                    } else if (this.activeTab === 'business') {
                        this.initBusinessCharts();
                    }
                },
                
                initCustomerCharts() {
                    // 客户行业分布
                    const industryChart = echarts.init(document.getElementById('customerIndustryChart'));
                    industryChart.setOption({
                        tooltip: {
                            trigger: 'item',
                            formatter: '{a} <br/>{b}: {c} ({d}%)'
                        },
                        legend: {
                            orient: 'vertical',
                            left: 'left'
                        },
                        series: [{
                            name: '客户行业分布',
                            type: 'pie',
                            radius: '50%',
                            data: [
                                {value: 335, name: '政府机关'},
                                {value: 310, name: '教育'},
                                {value: 234, name: '医疗'},
                                {value: 135, name: '金融'},
                                {value: 234, name: '制造业'}
                            ],
                            emphasis: {
                                itemStyle: {
                                    shadowBlur: 10,
                                    shadowOffsetX: 0,
                                    shadowColor: 'rgba(0, 0, 0, 0.5)'
                                }
                            }
                        }]
                    });
                    
                    // 客户增长趋势
                    const growthChart = echarts.init(document.getElementById('customerGrowthChart'));
                    growthChart.setOption({
                        tooltip: {
                            trigger: 'axis'
                        },
                        legend: {
                            data: ['新增客户', '累计客户']
                        },
                        xAxis: {
                            type: 'category',
                            data: ['1月', '2月', '3月', '4月', '5月', '6月']
                        },
                        yAxis: [
                            {
                                type: 'value',
                                name: '新增客户',
                                position: 'left'
                            },
                            {
                                type: 'value',
                                name: '累计客户',
                                position: 'right'
                            }
                        ],
                        series: [
                            {
                                name: '新增客户',
                                data: [120, 132, 101, 134, 90, 230],
                                type: 'bar',
                                itemStyle: {
                                    color: '#409EFF'
                                }
                            },
                            {
                                name: '累计客户',
                                data: [1248, 1380, 1481, 1615, 1705, 1935],
                                type: 'line',
                                smooth: true,
                                yAxisIndex: 1,
                                itemStyle: {
                                    color: '#67C23A'
                                }
                            }
                        ]
                    });
                    
                    // 客户级别分布
                    const levelChart = echarts.init(document.getElementById('customerLevelChart'));
                    levelChart.setOption({
                        tooltip: {
                            trigger: 'axis',
                            axisPointer: {
                                type: 'shadow'
                            }
                        },
                        xAxis: {
                            type: 'category',
                            data: ['战略客户', '重要客户', '普通客户']
                        },
                        yAxis: {
                            type: 'value'
                        },
                        series: [{
                            name: '客户数量',
                            data: [156, 423, 669],
                            type: 'bar',
                            itemStyle: {
                                color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [
                                    {offset: 0, color: '#83bff6'},
                                    {offset: 0.5, color: '#188df0'},
                                    {offset: 1, color: '#188df0'}
                                ])
                            }
                        }]
                    });
                    
                    // 地域分布统计分析
                    const regionChart = echarts.init(document.getElementById('customerRegionChart'));
                    regionChart.setOption({
                        tooltip: {
                            trigger: 'axis',
                            axisPointer: {
                                type: 'shadow'
                            }
                        },
                        xAxis: {
                            type: 'category',
                            data: ['地市1', '地市2', '地市3', '地市4', '地市5', '地市6']
                        },
                        yAxis: {
                            type: 'value'
                        },
                        series: [{
                            name: '客户数量',
                            data: [1856, 2134, 1678, 1245, 987, 623],
                            type: 'bar',
                            itemStyle: {
                                color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [
                                    {offset: 0, color: '#409EFF'},
                                    {offset: 1, color: '#1890ff'}
                                ])
                            }
                        }]
                    });
                },
                
                initDeviceCharts() {
                    // 物联网平台分布
                    const platformChart = echarts.init(document.getElementById('devicePlatformChart'));
                    platformChart.setOption({
                        tooltip: {
                            trigger: 'item',
                            formatter: '{a} <br/>{b}: {c} ({d}%)'
                        },
                        legend: {
                            orient: 'vertical',
                            left: 'left'
                        },
                        series: [{
                            name: '物联网平台分布',
                            type: 'pie',
                            radius: '50%',
                            data: [
                                {value: 5624, name: '千里眼'},
                                {value: 4312, name: '移动看家'},
                                {value: 3456, name: '国标平台'},
                                {value: 1568, name: '华为云IoT'},
                                {value: 720, name: '其他平台'}
                            ],
                            emphasis: {
                                itemStyle: {
                                    shadowBlur: 10,
                                    shadowOffsetX: 0,
                                    shadowColor: 'rgba(0, 0, 0, 0.5)'
                                }
                            }
                        }]
                    });
                    
                    // 设备厂商分布
                    const manufacturerChart = echarts.init(document.getElementById('deviceManufacturerChart'));
                    manufacturerChart.setOption({
                        tooltip: {
                            trigger: 'item',
                            formatter: '{a} <br/>{b}: {c} ({d}%)'
                        },
                        legend: {
                            orient: 'vertical',
                            left: 'left'
                        },
                        series: [{
                            name: '设备厂商分布',
                            type: 'pie',
                            radius: '50%',
                            data: [
                                {value: 6272, name: '海康威视'},
                                {value: 4704, name: '大华'},
                                {value: 2352, name: '宇视'},
                                {value: 1568, name: '华为'},
                                {value: 784, name: '其他'}
                            ],
                            emphasis: {
                                itemStyle: {
                                    shadowBlur: 10,
                                    shadowOffsetX: 0,
                                    shadowColor: 'rgba(0, 0, 0, 0.5)'
                                }
                            }
                        }]
                    });
                    
                    // 设备趋势图
                    const trendChart = echarts.init(document.getElementById('deviceTrendChart'));
                    trendChart.setOption({
                        tooltip: {
                            trigger: 'axis'
                        },
                        legend: {
                            data: ['新增设备', '累计设备']
                        },
                        xAxis: {
                            type: 'category',
                            data: ['1月', '2月', '3月', '4月', '5月', '6月']
                        },
                        yAxis: [
                            {
                                type: 'value',
                                name: '新增设备',
                                position: 'left'
                            },
                            {
                                type: 'value',
                                name: '累计设备',
                                position: 'right'
                            }
                        ],
                        series: [
                            {
                                name: '新增设备',
                                data: [856, 1024, 1156, 1234, 1345, 1256],
                                type: 'bar',
                                itemStyle: {
                                    color: '#409EFF'
                                }
                            },
                            {
                                name: '累计设备',
                                data: [12456, 13480, 14636, 15870, 17215, 18471],
                                type: 'line',
                                smooth: true,
                                yAxisIndex: 1,
                                itemStyle: {
                                    color: '#67C23A'
                                }
                            }
                        ]
                    });
                    
                    // 设备地域分布
                    const regionChart = echarts.init(document.getElementById('deviceRegionChart'));
                    regionChart.setOption({
                        tooltip: {
                            trigger: 'axis',
                            axisPointer: {
                                type: 'shadow'
                            }
                        },
                        xAxis: {
                            type: 'category',
                            data: ['地市1', '地市2', '地市3', '地市4', '地市5', '地市6']
                        },
                        yAxis: {
                            type: 'value'
                        },
                        series: [{
                            name: '设备数量',
                            data: [3245, 4156, 2987, 2234, 1567, 1123],
                            type: 'bar',
                            itemStyle: {
                                color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [
                                    {offset: 0, color: '#E6A23C'},
                                    {offset: 1, color: '#F56C6C'}
                                ])
                            }
                        }]
                    });
                },
                
                initBusinessCharts() {
                    // 业务趋势图
                    const trendChart = echarts.init(document.getElementById('businessTrendChart'));
                    trendChart.setOption({
                        tooltip: {
                            trigger: 'axis'
                        },
                        legend: {
                            data: ['订购业务', '退订业务', '装维业务']
                        },
                        xAxis: {
                            type: 'category',
                            data: ['1月', '2月', '3月', '4月', '5月', '6月']
                        },
                        yAxis: {
                            type: 'value'
                        },
                        series: [
                            {
                                name: '订购业务',
                                data: [2650, 2700, 2750, 2800, 2850, 2890],
                                type: 'line',
                                smooth: true,
                                itemStyle: { color: '#67C23A' }
                            },
                            {
                                name: '退订业务',
                                data: [120, 125, 130, 140, 150, 156],
                                type: 'line',
                                smooth: true,
                                itemStyle: { color: '#E6A23C' }
                            },
                            {
                                name: '装维业务',
                                data: [380, 385, 390, 400, 405, 410],
                                type: 'line',
                                smooth: true,
                                itemStyle: { color: '#F56C6C' }
                            }
                        ]
                    });
                    
                    // 业务类型分布
                    const typeChart = echarts.init(document.getElementById('businessTypeChart'));
                    typeChart.setOption({
                        tooltip: {
                            trigger: 'item',
                            formatter: '{a} <br/>{b}: {c} ({d}%)'
                        },
                        legend: {
                            orient: 'vertical',
                            left: 'left'
                        },
                        series: [{
                            name: '业务类型分布',
                            type: 'pie',
                            radius: '50%',
                            data: [
                                {value: 2890, name: '订购业务', itemStyle: { color: '#67C23A' }},
                                {value: 156, name: '退订业务', itemStyle: { color: '#E6A23C' }},
                                {value: 410, name: '装维业务', itemStyle: { color: '#F56C6C' }}
                            ],
                            emphasis: {
                                itemStyle: {
                                    shadowBlur: 10,
                                    shadowOffsetX: 0,
                                    shadowColor: 'rgba(0, 0, 0, 0.5)'
                                }
                            }
                        }]
                    });
                    
                    // 地域分布分析
                    const regionChart = echarts.init(document.getElementById('regionDistributionChart'));
                    regionChart.setOption({
                        tooltip: {
                            trigger: 'item',
                            formatter: '{a} <br/>{b}: {c} ({d}%)'
                        },
                        legend: {
                            orient: 'vertical',
                            left: 'left'
                        },
                        series: [{
                            name: '地域分布',
                            type: 'pie',
                            radius: ['40%', '70%'],
                            center: ['60%', '50%'],
                            data: [
                                {value: 1245, name: '地市1', itemStyle: { color: '#5470c6' }},
                                {value: 986, name: '地市2', itemStyle: { color: '#91cc75' }},
                                {value: 756, name: '地市3', itemStyle: { color: '#fac858' }},
                                {value: 469, name: '地市4', itemStyle: { color: '#ee6666' }},
                                {value: 325, name: '地市5', itemStyle: { color: '#73c0de' }},
                                {value: 221, name: '地市6', itemStyle: { color: '#3ba272' }}
                            ],
                            emphasis: {
                                itemStyle: {
                                    shadowBlur: 10,
                                    shadowOffsetX: 0,
                                    shadowColor: 'rgba(0, 0, 0, 0.5)'
                                }
                            }
                        }]
                    });
                    
                    // 地域业务对比
                    const regionBusinessChart = echarts.init(document.getElementById('regionBusinessChart'));
                    regionBusinessChart.setOption({
                        tooltip: {
                            trigger: 'axis',
                            axisPointer: {
                                type: 'shadow'
                            }
                        },
                        legend: {
                            data: ['订购业务', '退订业务', '装维业务']
                        },
                        xAxis: {
                            type: 'category',
                            data: ['地市1', '地市2', '地市3', '地市4', '地市5', '地市6']
                        },
                        yAxis: {
                            type: 'value'
                        },
                        series: [
                            {
                                name: '订购业务',
                                data: [890, 756, 623, 421, 298, 187],
                                type: 'bar',
                                itemStyle: { color: '#67C23A' }
                            },
                            {
                                name: '退订业务',
                                data: [45, 38, 32, 28, 21, 15],
                                type: 'bar',
                                itemStyle: { color: '#E6A23C' }
                            },
                            {
                                name: '装维业务',
                                data: [156, 132, 98, 76, 54, 32],
                                type: 'bar',
                                itemStyle: { color: '#F56C6C' }
                            }
                        ]
                    });
                },
                

                // 查询方法
                queryCustomerData() {
                    ElMessage.success('客户数据查询成功！');
                    // 这里可以添加实际的查询逻辑
                    this.initCustomerCharts();
                },
                
                queryDeviceData() {
                    ElMessage.success('设备数据查询成功！');
                    // 这里可以添加实际的查询逻辑
                    this.initDeviceCharts();
                },
                
                queryBusinessData() {
                    ElMessage.success('业务数据查询成功！');
                    // 这里可以添加实际的查询逻辑
                    this.initBusinessCharts();
                },
                
                // 用户相关方法
                showProfile() {
                    ElMessage.info('个人中心功能开发中...');
                },
                
                changePassword() {
                    ElMessage.info('修改密码功能开发中...');
                },
                
                logout() {
                    ElMessageBox.confirm('确定要退出登录吗？', '提示', {
                        confirmButtonText: '确定',
                        cancelButtonText: '取消',
                        type: 'warning'
                    }).then(() => {
                        ElMessage.success('退出登录成功！');
                        // 这里可以添加实际的退出登录逻辑
                    }).catch(() => {
                        // 用户取消退出
                    });
                }
            }
        }).use(ElementPlus).mount('#app');
    </script>
</body>
</html>